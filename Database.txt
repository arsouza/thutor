/*SCRIPT DE CRIACAO DO BANCO*/
CREATE DATABASE THUTOR
  DEFAULT CHARACTER SET Latin1 
  DEFAULT COLLATE latin1_general_ci;

  CREATE TABLE IF NOT EXISTS USUARIO(
  ID BIGINT PRIMARY KEY AUTO_INCREMENT,
  NOME VARCHAR(120),
  DATA_NASCIMENTO DATE,
  BIOGRAFIA BLOB,
  DATA_CRIACAO DATE,  
  CEP VARCHAR(8),
  ENDERECO VARCHAR(120),
  ENDERECO_NUMERO INT,
  BAIRRO VARCHAR(60),
  COMPLEMENTO VARCHAR(30),
  CIDADE VARCHAR(60),
  UF CHAR(2), 
  TELEFONE_RESIDENCIAL VARCHAR(10))
  ENGINE = InnoDB
  CHARSET = Latin1 
  COLLATE = latin1_general_ci;

CREATE TABLE IF NOT EXISTS MENSAGEM(
  ID BIGINT PRIMARY KEY AUTO_INCREMENT,
  FK_USUARIO_ID BIGINT,
  MENSAGEM BLOB,
  DATA_ENVIO DATE)
  ENGINE = InnoDB
  CHARSET = Latin1 
  COLLATE = latin1_general_ci;

ALTER TABLE MENSAGEM ADD FOREIGN KEY (FK_USUARIO_ID) REFERENCES USUARIO (ID);



/*POPULA A TABELA DE USUARIO*/
INSERT INTO USUARIO (ID, NOME, DATA_NASCIMENTO, BIOGRAFIA, DATA_CRIACAO, CEP, ENDERECO, ENDERECO_NUMERO, BAIRRO, COMPLEMENTO, CIDADE, UF, TELEFONE_RESIDENCIAL)
            VALUES  (NULL, 'ALAN RICARDO DE ALMEIDA DORTA SOUZA', '1988-04-11', NOW() - 2, NULL, '13214570', 'AV ROMEU ÍTALO RIPOLI', 52, 'ELDORADO', NULL, 'PIRACICABA', 'SP', '1934141803');
INSERT INTO USUARIO (ID, NOME, DATA_NASCIMENTO, BIOGRAFIA, DATA_CRIACAO, CEP, ENDERECO, ENDERECO_NUMERO, BAIRRO, COMPLEMENTO, CIDADE, UF, TELEFONE_RESIDENCIAL)
            VALUES  (NULL, 'KELLY SALES DE FIGUEIREDO SOUZA', '1988-03-15', NOW() - 2, NULL, '13214570', 'AV ROMEU ÍTALO RIPOLI', 52, 'ELDORADO', NULL, 'PIRACICABA', 'SP', '1934141803');
INSERT INTO USUARIO (ID, NOME, DATA_NASCIMENTO, BIOGRAFIA, DATA_CRIACAO, CEP, ENDERECO, ENDERECO_NUMERO, BAIRRO, COMPLEMENTO, CIDADE, UF, TELEFONE_RESIDENCIAL)
            VALUES  (NULL, 'KELLY SALES DE FIGUEIREDO SOUZA', '1940-05-15', NOW() - 4, NULL, '13214590', 'RUA BRAGANÇA PAULISTA', 194, 'ELDORADO', NULL, 'PIRACICABA', 'SP', '1934141803');

/*POPULA A TABELA DE MENSAGEM*/
INSERT INTO MENSAGEM (ID, FK_USUARIO_ID, MENSAGEM, DATA_ENVIO) 
            VALUES   (NULL, 8, 'OLÁ ESTA MENSAGEM VEIO DO USUÁRIO ALAN RICARDO', NOW());
INSERT INTO MENSAGEM (ID, FK_USUARIO_ID, MENSAGEM, DATA_ENVIO) 
            VALUES   (NULL, 9, 'OLÁ ESTA MENSAGEM VEIO DO USUÁRIO KELLY', NOW() - 2);
